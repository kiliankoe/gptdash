<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPTDash - 39C3 Power Cycles</title>
    <link rel="stylesheet" href="/css/audience.css">
</head>

<body>
    <div class="audience-container">
        <!-- Header Bar -->
        <header class="header-bar">
            <div class="header-left">
                <img src="/img/manekineko.gif" alt="" class="header-mascot">
                <div class="header-logo">39C3</div>
            </div>
            <div class="header-status">
                <div class="status-badge">
                    <div class="status-dot" id="statusDot"></div>
                    <span id="statusText">Verbinde...</span>
                </div>
            </div>
        </header>

        <!-- Content Area -->
        <main class="content">
            <!-- Welcome Screen -->
            <div class="screen active" id="welcomeScreen">
                <div class="welcome-title">
                    <span class="power">GPT</span>
                    <span class="cycles">Dash</span>
                </div>
                <div class="card">
                    <h2>Willkommen!</h2>
                    <p>Du bist gleich bei GPTDash dabei, dem Spiel, bei dem Spieler versuchen, eine KI zu imitieren.</p>
                    <p>Deine Aufgabe: Finde heraus, welche Antwort die echte KI ist!</p>

                    <button onclick="joinAudience()" id="joinButton">Als Publikum mitmachen</button>

                    <div id="welcomeError" class="error-message" style="display: none;"></div>

                    <div class="help-text">
                        Du kannst bei jeder Runde abstimmen und um den besten Publikums-Score kämpfen!
                    </div>
                </div>
            </div>

            <!-- Waiting Screen -->
            <div class="screen" id="waitingScreen">
                <div class="card">
                    <div class="waiting-content">
                        <div class="waiting-icon">&#x23F3;</div>
                        <h3>Warte auf die nächste Runde...</h3>
                        <p>Schau auf die große Leinwand, während wir vorbereiten!</p>
                    </div>
                </div>
            </div>

            <!-- Voting Screen -->
            <div class="screen" id="votingScreen">
                <!-- Panic Mode Overlay -->
                <div id="panicModeOverlay" class="panic-overlay" style="display: none;">
                    <div class="panic-content">
                        <div class="panic-icon">&#x1F6AB;</div>
                        <h3>Abstimmung deaktiviert</h3>
                        <p>Bitte stimme durch Klatschen ab!</p>
                        <p class="help-text">Der Host zählt die Stimmen manuell.</p>
                    </div>
                </div>

                <div class="card" id="votingContent">
                    <h2>Gib deine Stimme ab</h2>
                    <p class="text-center mb-16">Wähle eine Antwort pro Kategorie</p>

                    <div class="vote-section">
                        <h3>
                            <span class="icon">&#x1F916;</span>
                            <span class="text-primary">Welche Antwort ist die KI?</span>
                        </h3>
                        <div class="answer-options" id="aiAnswerOptions">
                            <!-- Answer options will be inserted here -->
                        </div>
                    </div>

                    <div class="vote-section">
                        <h3>
                            <span class="icon">&#x1F602;</span>
                            <span class="text-secondary">Welche ist am lustigsten?</span>
                        </h3>
                        <div class="answer-options" id="funnyAnswerOptions">
                            <!-- Answer options will be inserted here -->
                        </div>
                    </div>

                    <button onclick="submitVote()" id="voteButton" disabled>Abstimmen</button>

                    <div id="voteError" class="error-message" style="display: none;"></div>

                    <div class="help-text">
                        Du kannst deine Stimme ändern, bis die Zeit abläuft!
                    </div>
                </div>
            </div>

            <!-- Vote Confirmed Screen -->
            <div class="screen" id="confirmedScreen">
                <div class="card">
                    <div class="success-content">
                        <div class="success-icon">&#x2705;</div>
                        <h3>Stimme abgegeben!</h3>
                        <p>Deine Stimmen wurden gespeichert.</p>

                        <div class="vote-summary">
                            <div class="vote-summary-item">
                                <span class="label">KI-Wahl:</span>
                                <span class="value" id="summaryAiPick">Antwort ?</span>
                            </div>
                            <div class="vote-summary-item">
                                <span class="label">Lustigste:</span>
                                <span class="value" id="summaryFunnyPick">Antwort ?</span>
                            </div>
                        </div>

                        <button onclick="changeVote()" class="secondary">Stimme ändern</button>

                        <div class="help-text">
                            Du kannst deine Stimme ändern, bis die Abstimmung endet.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Screen -->
            <div class="screen" id="resultsScreen">
                <div class="card">
                    <div class="results-content">
                        <div class="results-icon">&#x1F4CA;</div>
                        <h3>Auflösung kommt gleich</h3>
                        <p>Schau auf die große Leinwand für die Auflösung!</p>
                    </div>

                    <div id="winnerBadge" style="display: none;">
                        <div class="winner-badge">
                            <div class="icon">&#x1F3C6;</div>
                            <h3>Top-Detektiv!</h3>
                            <p>Du hast die KI richtig erkannt!</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="/js/common.js"></script>
    <script src="/js/audience.js"></script>
</body>

</html>
